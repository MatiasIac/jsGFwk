<html>
<head>
</head>
    <script language="Javascript" src="../jsGFwk.js"></script>
    <script language="Javascript" src="../jsGFwk2dFastAnimation.js"></script>
    <script language="Javascript" src="../jsGFwkGamepad.js"></script>
<body>
	<canvas id="canvas" width="640" height="480"></canvas>
</body>
<script language="Javascript">
	jsGFwk.settings.canvas = "canvas";

    jsGFwk.include("FastAnimation");
    jsGFwk.include("Gamepad");
	
    var PADTYPE = jsGFwk.Gamepad.PADTYPE,
        objectColor = 255;    
    
	jsGFwk.createObject({
		id: "ball",
		x: 10,
		y: 10,
		zOrder: 2,
		visible: true,
		update: function(delta) {
            if (jsGFwk.Gamepad.pads[PADTYPE.PAD0] !== undefined) {
                this.x += jsGFwk.Gamepad.pads[PADTYPE.PAD0].axes[0];
                this.y += jsGFwk.Gamepad.pads[PADTYPE.PAD0].axes[1];
                
                if (jsGFwk.Gamepad.pads[PADTYPE.PAD0].buttons[0].pressed) {
                    objectColor = (Math.random() * 190) + 50;
                }
            }
		},
		draw: function (context) {
			context.fillStyle = "rgb(" + parseInt(objectColor, 10) + ",255,255)";
			context.fillRect(this.x,this.y,10,10);
		}
	});
	
	jsGFwk.start();
</script>
</html>